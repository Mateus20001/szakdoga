<ng-template #eventTemplate let-event="event">
  <div
    style="background-color: red; color: white; font-size: 12px;"
    class="p-1 font-semibold text-xs truncate">
    {{ event?.title }}
    {{ event?.location }}
  </div>
  <div *ngIf="selectedEvent" class="mt-4 p-4 border rounded shadow bg-white">
    <h3 class="text-lg font-semibold mb-2">Óra részletei</h3>
    <p><strong>Név:</strong> {{ selectedEvent.title }}</p>
    <p><strong>Helyszín:</strong> {{ selectedEvent.meta?.location }}</p>
    <p><strong>Tanár(ok):</strong> {{ selectedEvent.meta?.teacherIds?.join(', ') }}</p>
    <p><strong>Kezdés:</strong> {{ selectedEvent.start | date: 'shortTime' }}</p>
    <p><strong>Befejezés:</strong> {{ selectedEvent.end | date: 'shortTime' }}</p>
    <button mat-button color="primary" (click)="selectedEvent = null">Bezárás</button>
  </div>
</ng-template>

<mwl-calendar-week-view
  [viewDate]="viewDate"
  [events]="events"
  [hourSegments]="1"
  [dayStartHour]="0"
  [dayEndHour]="24"
  [hourSegmentHeight]="60"
  [weekStartsOn]="1"
  (eventClicked)="handleEventClick($event.event)"
  class="custom-week-view">
</mwl-calendar-week-view>

